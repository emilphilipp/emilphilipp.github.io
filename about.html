<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Projects</title>

<script src="site_libs/header-attrs-2.14/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/core-js-2.5.3/shim.min.js"></script>
<script src="site_libs/react-18.2.0/react.min.js"></script>
<script src="site_libs/react-18.2.0/react-dom.min.js"></script>
<script src="site_libs/reactwidget-1.0.0/react-tools.js"></script>
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="site_libs/reactable-0.4.4/reactable.css" rel="stylesheet" />
<script src="site_libs/reactable-binding-0.4.4/reactable.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Emil Philipp</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li>
  <a href="about.html">
    <span class="fa fa-user"></span>
     
    Projects
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="mailto:emil.johan.philipp@gmail.com">
    <span class="fa fa-envelope-o"></span>
     
    Contact me
  </a>
</li>
<li>
  <a href="https://github.com/emilphilipp">
    <span class="fa fa-github"></span>
     
    GitHub
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Projects</h1>

</div>


<style type="text/css">
.main-container {
  max-width: 1800px;
  margin-left: auto;
  margin-right: auto;
}
</style>
<div id="open-street-map-data-and-elevation" class="section level2">
<h2>Open Street Map Data and Elevation</h2>
<p>The goal of this project is mainly to practice using OpenStreetMap
data and calculate optimal routes on networks such as streets. To get
some experience in this area, I want to answer the question from which
train station in my area I can ascend 500 meters (or 750/1000m) in
elevation with the least distance covered.</p>
<p>First, I load train stations and railway lines from OpenStreetMap in
the bounding box of interest which represent train stations in the local
mountains which I can reach within roughly an hour.</p>
<pre class="r"><code># To manually get the correct bounding box from a map

# https://norbertrenner.de/osm/bbox.html

brb_bbox=   c(11.513,47.615,12.081,47.881)

# Get brb netowrk from osm
brb_netz &lt;- opq(bbox =brb_bbox) %&gt;%  add_osm_features(features=list(&quot;railway&quot;=&quot;rail&quot;,
                                                                    &quot;public_transport&quot;=&quot;station&quot;)) %&gt;% 
  osmdata_sf()

brb_stations &lt;-  brb_netz$osm_points %&gt;% filter(!is.na(name)&amp;train==&quot;yes&quot;) 
# Remove stations which are inside the bounding box but don&#39;t belong to the routes of interest 
# (in the Northeastern quadrant, train towards Rosenheim)
brb_stations &lt;- brb_stations %&gt;% cbind(st_coordinates(brb_stations)) %&gt;% filter(!(X&gt;11.85&amp;Y&gt;47.84)&amp;X&lt;12.04)
# Remove duplicate station points
brb_stations &lt;- brb_stations %&gt;% group_by(name) %&gt;% filter(row_number()==1) %&gt;% ungroup()
# Remove some more duplicates which have a second platform
brb_stations &lt;- brb_stations %&gt;% filter(!grepl(pattern=&quot;Gleis&quot;,name))</code></pre>
<p>The area of interest looks as follows:</p>
<p><img src="about_files/figure-html/unnamed-chunk-2-1.png" width="2450" /></p>
<p>Next, I want to load additional data on lakes and peaks from OSM for
further plots and calculations:</p>
<pre class="r"><code># Lakes come in both polygon and multipolygons in the osm data (depends on whether the lake is just one surface or has a smaller additional parrt)
lakes &lt;- opq(bbox =brb_bbox) %&gt;% add_osm_feature(key=&quot;water&quot;,value=&quot;lake&quot;) %&gt;% osmdata_sf()
lakes_poly &lt;- lakes$osm_polygons %&gt;% filter(!is.na(name))
lakes_multi &lt;- lakes$osm_multipolygons %&gt;% filter(!is.na(name))




#Peaks

peaks &lt;- opq(bbox =brb_bbox) %&gt;% add_osm_feature(key=&quot;natural&quot;,value=&quot;peak&quot;) %&gt;% osmdata_sf()
peaks_points &lt;- peaks$osm_points %&gt;% filter(!is.na(name))
peaks_points &lt;- peaks_points %&gt;% cbind(st_coordinates(peaks_points))</code></pre>
<p>Next, I want to load elevation data for the bounding box which I am
looking at using the package <a
href="https://github.com/jhollist/elevatr">elevatr</a>.</p>
<pre class="r"><code>brb_elevation &lt;- get_elev_raster(locations = brb_stations , z=11)
# Saving the coordinate reference system for potential later use
crs_elevation &lt;- crs(brb_elevation)
# Elevatr downloads all necessary terrain tiles to cover the area, so I have to crop the loaded data to the bounding box.
brb_elevation_zoom &lt;- crop(brb_elevation,extent(brb_bbox))

brb_elevation_mat &lt;- raster_to_matrix(brb_elevation_zoom)</code></pre>
<p>Next, I want to give a more intuitive visual representation of the
area of interest including the elevation profile. To do this, I use the
package <a href="https://www.rayshader.com">rayshader</a>.</p>
<p><img src="about_files/figure-html/unnamed-chunk-5-1.png" width="2450" />
<!-- ![](brb_plot.png){width="125%"} --></p>
<div id="calculating-the-optimal-station" class="section level3">
<h3>Calculating the optimal station</h3>
<p>My first approach to find the station from which I can most directly
ascend 500 meters is simply to find the distance to the closest point
500 meters higher than the respective station. This includes the
following steps:</p>
<ul>
<li>Get the elevation data for the train stations; this is not always
included in osm data, so I again use <em>elevatr</em></li>
<li>For each station:
<ul>
<li>Calculate the distance to each point in our elevation matrix</li>
<li>Calculate a boolean matrix whether each point in the elevation
matrix exceeds the station elevation by a certain reference elevation
gain (e.g. 750m).</li>
<li>Element-wise multiplication of the boolean and the distance
matrix</li>
<li>Saving relevant information on the minimum distance point (distance
to station, coordinates)</li>
</ul></li>
</ul>
<pre class="r"><code># find minimum distance value in the distannce matrix by subsetting with the boolean matrix, keep coordinates (probably by keeping indices)


###
brb_stations &lt;- get_elev_point(brb_stations,src=&quot;aws&quot;,z=12)


# Let&#39;s look at an elevation gain of 750m
elevation_gain=750

elev_one_row &lt;- function(row,elevation_gain) {
  distance &lt;- distanceFromPoints(xy=row,brb_elevation_zoom)
  distace_mat &lt;- raster_to_matrix(distance)
  reference_altitude &lt;- row$elevation+elevation_gain
  bool_elevation_gain &lt;- brb_elevation_mat&gt;=reference_altitude
  temp&lt;- bool_elevation_gain*distace_mat
  temp[temp == 0]=NA
  c(min(temp,na.rm = T),xyFromCell(distance,which.min(temp)))
  
}
# To apply the mclapply function to each row, I split the data of the stations into a list of rows
brb_stations_list &lt;- split(brb_stations, seq(nrow(brb_stations)))



# Slightly faster in parallel, but won&#39;t work on windows (just use standard lapply)
out &lt;- mclapply(brb_stations_list,elev_one_row,elevation_gain=elevation_gain,mc.cores = 4)

out &lt;- t(data.frame(out))

colnames(out) &lt;- c(paste(&quot;distance&quot;,elevation_gain,sep = &quot;_&quot;),paste(&quot;lon&quot;,elevation_gain,sep=&quot;_&quot;),paste(&quot;lat&quot;,elevation_gain,sep=&quot;_&quot;))

# Combine with the original data
brb_stations &lt;- cbind(brb_stations,out) </code></pre>
<p>The optimal station for 750 meters of elevation gain is: Osterhofen
where you can ascend 750 m in 2.29 km.</p>
<div class="reactable html-widget html-fill-item" id="htmlwidget-28da6b9e74472330289c" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-28da6b9e74472330289c">{"x":{"tag":{"name":"Reactable","attribs":{"data":{".rownames":["X1","X2","X3","X4","X5","X6","X7","X8","X9","X10","X11","X12","X13","X14","X15","X16","X17","X18","X19","X20","X21"],"name":["Schaftlach","Darching","Agatharied","Hausham","Fischhausen-Neuhaus","Geitau","Bayrischzell","Gaißach","Osterhofen (Oberbay)","Gmund","Moosrain","Obergries","Warngau","Miesbach","Tegernsee","Bad Tölz","Lenggries","Schliersee","Fischbachau","Reichersbeuern","Finsterwald"],"elevation":[760,663,729,760,803,780,806,667,805,739,759,667,716,687,762,688,680,785,756,719,767],"distance_750":[12482.7589629425,18859.7162457136,9379.12343323405,7877.94365303501,3116.55574191843,2738.10804287833,2333.52339159433,7149.06188775964,2287.64197421958,9442.90947642735,10515.9531418103,5107.86958582322,16990.757653526,11749.6413843889,5895.5829860291,9569.03019256544,3364.94786489486,6112.99690719322,2366.79793106058,9989.02955460826,9533.40693531257]},"columns":[{"id":".rownames","name":"","type":"character","sortable":false,"filterable":false,"rowHeader":true},{"id":"name","name":"Station name","type":"character","filterable":true,"align":"left"},{"id":"elevation","name":"Station elevation (m)","type":"numeric","format":{"cell":{"digits":0},"aggregated":{"digits":0}}},{"id":"distance_750","name":"Distance to closest point 750 m higher (m)","type":"numeric"}],"defaultSorted":[{"id":"distance_750","desc":false}],"defaultPageSize":10,"highlight":true,"bordered":true,"dataKey":"622394244a16bbedd1851faa1609d290"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
<p>Let’s look at the winner station on a map. The winning point to reach
is highlighted in pink.</p>
<p><img src="osterhofen.png" style="width:125.0%" /></p>
<p>I would now like to add two extensions to this simplistic
solution:</p>
<ol style="list-style-type: decimal">
<li>Expand on the arbitrary nature of a reference altitude by finding
the best stations for an interval of altitude gains (100 m to 1000
m)</li>
<li>Drop the assumption that I can simply reach any point as the crow
flies. Rather, I want to find the closest peak I can reach via hiking
trails (see map above).</li>
</ol>
<p>First, let’s look at the first extension:</p>
<pre class="r"><code>reference_altitude=seq(100,1000,100)

argument_list &lt;- expand.grid(brb_stations$elevation,reference_altitude) %&gt;% data.frame()
argument_list &lt;- argument_list %&gt;% mutate(reference_altitude=Var1+Var2)
## 1, 2, 3 .. at 100 hm then 1,2,3 ... at 200 hm and so on
distance_matrices_fun &lt;- function(row) {
  distance &lt;- distanceFromPoints(xy=row,brb_elevation_zoom)
  distace_mat &lt;- raster_to_matrix(distance)
}

distance_matrices &lt;-  mclapply(brb_stations_list,distance_matrices_fun,mc.cores = 4)


boolean_matrices_fun &lt;- function(reference_altitude) {
  bool_elevation_gain &lt;- brb_elevation_mat&gt;=reference_altitude
}



boolean_matrices &lt;-  lapply(argument_list$reference_altitude,boolean_matrices_fun)
distance_matrices &lt;- rep(distance_matrices,10)

mapply_helper &lt;- function(matrix_1,matrix_2){
  temp &lt;- matrix_1*matrix_2
   temp[temp == 0]=NA
 out &lt;- min(temp,na.rm = T)
}

min_distances &lt;- mapply(mapply_helper, distance_matrices,boolean_matrices,SIMPLIFY = T)


 
  
  


# distances_Tegernsee &lt;-min_distances[seq(which( grepl(&quot;Tegernsee&quot;,brb_stations$name)),210,21)] 
# distances_Geitau &lt;-min_distances[seq(which( grepl(&quot;Geitau&quot;,brb_stations$name)),210,21)] 

names &lt;- brb_stations$name %&gt;% rep(10)

data_dist &lt;- tibble(names,min_distances)

data_dist &lt;- data_dist %&gt;% cbind(rep(seq(100,1000,100),each=21))
colnames(data_dist) &lt;- c(&quot;name&quot;,&quot;distance&quot;,&quot;altitude_gain&quot;)

data_dist &lt;- data_dist %&gt;% mutate(steepness=altitude_gain/distance)</code></pre>
<p>We can now look at the steepness in the area surrounding the
stations:</p>
<p>The highest steepness, i.e. altitude gain per distance, can be
reached in Bayrischzell when gaining 700 m in elevation.</p>
<div class="reactable html-widget html-fill-item" id="htmlwidget-d43f8034d369ede9b857" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-d43f8034d369ede9b857">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"name":["Schaftlach","Darching","Agatharied","Hausham","Fischhausen-Neuhaus","Geitau","Bayrischzell","Gaißach","Osterhofen (Oberbay)","Gmund","Moosrain","Obergries","Warngau","Miesbach","Tegernsee","Bad Tölz","Lenggries","Schliersee","Fischbachau","Reichersbeuern","Finsterwald","Schaftlach","Darching","Agatharied","Hausham","Fischhausen-Neuhaus","Geitau","Bayrischzell","Gaißach","Osterhofen (Oberbay)","Gmund","Moosrain","Obergries","Warngau","Miesbach","Tegernsee","Bad Tölz","Lenggries","Schliersee","Fischbachau","Reichersbeuern","Finsterwald","Schaftlach","Darching","Agatharied","Hausham","Fischhausen-Neuhaus","Geitau","Bayrischzell","Gaißach","Osterhofen (Oberbay)","Gmund","Moosrain","Obergries","Warngau","Miesbach","Tegernsee","Bad Tölz","Lenggries","Schliersee","Fischbachau","Reichersbeuern","Finsterwald","Schaftlach","Darching","Agatharied","Hausham","Fischhausen-Neuhaus","Geitau","Bayrischzell","Gaißach","Osterhofen (Oberbay)","Gmund","Moosrain","Obergries","Warngau","Miesbach","Tegernsee","Bad Tölz","Lenggries","Schliersee","Fischbachau","Reichersbeuern","Finsterwald","Schaftlach","Darching","Agatharied","Hausham","Fischhausen-Neuhaus","Geitau","Bayrischzell","Gaißach","Osterhofen (Oberbay)","Gmund","Moosrain","Obergries","Warngau","Miesbach","Tegernsee","Bad Tölz","Lenggries","Schliersee","Fischbachau","Reichersbeuern","Finsterwald","Schaftlach","Darching","Agatharied","Hausham","Fischhausen-Neuhaus","Geitau","Bayrischzell","Gaißach","Osterhofen (Oberbay)","Gmund","Moosrain","Obergries","Warngau","Miesbach","Tegernsee","Bad Tölz","Lenggries","Schliersee","Fischbachau","Reichersbeuern","Finsterwald","Schaftlach","Darching","Agatharied","Hausham","Fischhausen-Neuhaus","Geitau","Bayrischzell","Gaißach","Osterhofen (Oberbay)","Gmund","Moosrain","Obergries","Warngau","Miesbach","Tegernsee","Bad Tölz","Lenggries","Schliersee","Fischbachau","Reichersbeuern","Finsterwald","Schaftlach","Darching","Agatharied","Hausham","Fischhausen-Neuhaus","Geitau","Bayrischzell","Gaißach","Osterhofen (Oberbay)","Gmund","Moosrain","Obergries","Warngau","Miesbach","Tegernsee","Bad Tölz","Lenggries","Schliersee","Fischbachau","Reichersbeuern","Finsterwald","Schaftlach","Darching","Agatharied","Hausham","Fischhausen-Neuhaus","Geitau","Bayrischzell","Gaißach","Osterhofen (Oberbay)","Gmund","Moosrain","Obergries","Warngau","Miesbach","Tegernsee","Bad Tölz","Lenggries","Schliersee","Fischbachau","Reichersbeuern","Finsterwald","Schaftlach","Darching","Agatharied","Hausham","Fischhausen-Neuhaus","Geitau","Bayrischzell","Gaißach","Osterhofen (Oberbay)","Gmund","Moosrain","Obergries","Warngau","Miesbach","Tegernsee","Bad Tölz","Lenggries","Schliersee","Fischbachau","Reichersbeuern","Finsterwald"],"altitude_gain":[100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000],"steepness":[0.0207361391609253,0.0405663174578331,0.120965092375123,0.169923814969456,0.148226679724768,0.17526743027545,0.232604766771164,0.0621514253822613,0.22146335273363,0.082533594407102,0.0442535336762655,0.0481081576811854,0.0473602476025592,0.0671694954804885,0.263902121877593,0.0299283046277343,0.0703553385259337,0.153014956508134,0.152720279137294,0.0379578345432531,0.0400137518914037,0.033347239156505,0.0419982670026911,0.0677679167813404,0.150909185306537,0.238962683666509,0.185566949734051,0.224589344731019,0.107259216235704,0.267387403270622,0.0913309982328306,0.0554700124505804,0.0832947329192267,0.0198761178469982,0.0798639982176327,0.332754766605919,0.056298890902558,0.106513127119179,0.2102250152814,0.213494019434404,0.0526984236989557,0.0719889244876481,0.0469211117364996,0.0204447692110556,0.095671672831652,0.172182322178937,0.306674730882275,0.210558599247099,0.295068805975026,0.143273087183161,0.306589774710163,0.120252734448182,0.0747504027176972,0.10761017074986,0.0283094489591286,0.0522133176054536,0.348631981474043,0.0784001019266176,0.142887937218223,0.22741733613878,0.26821560717322,0.0734360303610392,0.0941610374855645,0.0582698371459381,0.0267345942031156,0.114201755312014,0.176137047992404,0.333132920254109,0.248901601705628,0.352723636878037,0.173986897853932,0.334562287711578,0.139464571272596,0.0876610614089976,0.130377583525361,0.0360743947628517,0.0651705726992476,0.34523124959125,0.0958334644128604,0.161866644965844,0.211516245337249,0.279073844015934,0.0912585407421101,0.108795029075659,0.06752618000184,0.0329080778853974,0.128845177859252,0.146614899431999,0.301950929490822,0.26689560755145,0.378696149828374,0.167266283614682,0.358574031965744,0.141632425956216,0.0953289102743933,0.125478187627826,0.0428985016140687,0.07626576691746,0.240996990198639,0.110242763260538,0.186726969210764,0.136300965822534,0.309662968578052,0.101368623428112,0.0955937025479055,0.0665700687034319,0.037824608018411,0.088174469637818,0.105523778191068,0.288760023161999,0.267926539682174,0.417829425345267,0.175133478844235,0.371259830689453,0.0947940831804675,0.0840377420247913,0.134786574507799,0.0465228536410699,0.0773491791119876,0.152692749665318,0.108540396512375,0.207686843288656,0.126789584313308,0.293740054921156,0.102250939960697,0.0940514708662809,0.0564176740917065,0.0372754041802536,0.098166044794691,0.0948891009042577,0.268253931436666,0.279140393431154,0.438745422369524,0.0991118806563862,0.385044183097166,0.0745027882705374,0.067042458720942,0.139223806066722,0.0427760969492596,0.0708364990895654,0.12038859885524,0.0738616886232643,0.215825965464363,0.12476434797562,0.309907375420189,0.0705822867376197,0.0739880468368508,0.0556355623781772,0.0371568982293891,0.0813001407819321,0.0951556376019801,0.247925420642201,0.245036482710264,0.321957876445308,0.09925294720888,0.339529934176631,0.080396071826578,0.0678828891261383,0.146691151722812,0.0468752125895852,0.0667121908449055,0.134160511763436,0.078331001374908,0.202459718744273,0.123213898527251,0.327472986859297,0.0794722451988839,0.0770872775816631,0.0542460305233664,0.0404610022305425,0.0857628206666701,0.0925487294388069,0.207157614076472,0.260790909335881,0.305173432610057,0.0860903843809199,0.365290670995031,0.0875029328198962,0.0715748080392539,0.105628938936719,0.0469373650763043,0.069539199133985,0.148111216218643,0.0627641908016264,0.133331604067077,0.117711596300991,0.249559536039044,0.0669768145338275,0.0819246872589976,0.0509844925145847,0.0440129208494783,0.0699267789201941,0.0799256210137405,0.139311795319444,0.281323813121694,0.26805691395556,0.0546824317569794,0.22904579583944,0.0748131264598832,0.0639379957494719,0.0567785188352755,0.043939618024462,0.0713051796988644,0.108996821479613,0.050741007166945,0.0597843256625127,0.0966225856449578,0.192487242411369,0.0510802622680459,0.0711204675117083]},"columns":[{"id":"name","name":"Station name","type":"character","filterable":true,"align":"left"},{"id":"altitude_gain","name":"Altitude gain (m)","type":"numeric","filterable":true,"format":{"cell":{"digits":0},"aggregated":{"digits":0}}},{"id":"steepness","name":"Steepness","type":"numeric","format":{"cell":{"digits":2,"percent":true},"aggregated":{"digits":2,"percent":true}}}],"defaultSorted":[{"id":"steepness","desc":true}],"defaultPageSize":10,"highlight":true,"bordered":true,"dataKey":"2d4681d45c6450d7bf14f72aa425d2cb"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
<p>However, as the following plot shows, Bayrischzell is not the most
efficient station at all altitude gains. Up to 400 meters, it takes less
distance starting at the station Tegernsee:</p>
<p><img src="about_files/figure-html/unnamed-chunk-11-1.png" width="2450" /></p>
<p>The highest average steepness still belongs to Bayrischzell though as
this table shows:</p>
<div class="reactable html-widget html-fill-item" id="htmlwidget-7434d565314f1dfd5c81" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-7434d565314f1dfd5c81">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"name":["Agatharied","Bad Tölz","Bayrischzell","Darching","Finsterwald","Fischbachau","Fischhausen-Neuhaus","Gaißach","Geitau","Gmund","Hausham","Lenggries","Miesbach","Moosrain","Obergries","Osterhofen (Oberbay)","Reichersbeuern","Schaftlach","Schliersee","Tegernsee","Warngau"],"mean":[0.0950781869960686,0.0744941809609427,0.323544577490934,0.0359382859268167,0.0808724395543682,0.259633391398996,0.248035672865526,0.116820803311714,0.242140832679485,0.0987223326874288,0.128381013702919,0.148743847426683,0.069642539879959,0.0711939814188532,0.107797782257279,0.317874726518946,0.0727082001472544,0.0510654335412975,0.152757653185023,0.219586700772969,0.0401569857066287]},"columns":[{"id":"name","name":"Station name","type":"character","filterable":true,"align":"left"},{"id":"mean","name":"Mean steepness","type":"numeric","format":{"cell":{"digits":2,"percent":true},"aggregated":{"digits":2,"percent":true}}}],"defaultSorted":[{"id":"mean","desc":true}],"defaultPageSize":10,"highlight":true,"bordered":true,"dataKey":"ed2e554b3acddf9dac3c1cff4a9c5d9b"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
<p>As for the second extension, this table shows which peaks can be
reached along the trail network:</p>
<div class="reactable html-widget html-fill-item" id="htmlwidget-477d4da3d9a7f4a447b7" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-477d4da3d9a7f4a447b7">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"name":["Schaftlach","Darching","Agatharied","Hausham","Fischhausen-Neuhaus","Geitau","Bayrischzell","Gaißach","Osterhofen (Oberbay)","Gmund","Moosrain","Obergries","Warngau","Miesbach","Tegernsee","Bad Tölz","Lenggries","Schliersee","Fischbachau","Reichersbeuern","Finsterwald"],"min_dist_peak_name":["Blankenstein","Brecherspitz","Jägerkamp","Lempersberg","Lempersberg","Wendelstein","Wendelstein","Roßstein","Wendelstein","Blankenstein","Blankenstein","Roßstein","Wallberg","Jägerkamp","Blankenstein","Roßstein","Roßstein","Lempersberg","Aiplspitz","Wallberg","Blankenstein"],"min_dist_peak":[26513.3687954373,27503.7810364571,15303.3587272613,15810.7771644004,9348.46807034674,6837.11842102115,5756.86878006226,18782.9632844037,6057.65254340995,18877.6500356061,21393.1712271553,14945.4971589366,25941.2200041692,18279.4522887299,13616.251576673,21567.4493122559,11744.778740119,13426.9615370751,6661.40277144771,24053.738912012,19573.0865001995],"min_dist_peak_elevation_difference":[1008,1022,1017,1057,1014,1058,1032,1031,1033,1029,1009,1031,1006,1059,1006,1010,1018,1032,1003,1003,1001]},"columns":[{"id":"name","name":"Station Name","type":"character","filterable":true,"align":"left"},{"id":"min_dist_peak_name","name":"Peak name","type":"character","filterable":true},{"id":"min_dist_peak","name":"Distance to peak (m)","type":"numeric","format":{"cell":{"digits":0},"aggregated":{"digits":0}}},{"id":"min_dist_peak_elevation_difference","name":"Altitude gain to peak (m)","type":"numeric","format":{"cell":{"digits":0},"aggregated":{"digits":0}}}],"defaultSorted":[{"id":"min_dist_peak","desc":false}],"defaultPageSize":10,"highlight":true,"bordered":true,"dataKey":"b3c7d68c1b8ee25f1dc35cff13bbc5e9"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
